colors {
	white {
		red = 255
		green = 255
		blue = 255
	}
	menuInteractiveRangeStart {
		red = 50
		green = 50
		blue = 50
	}
	menuInteractiveRangeEnd {
		red = 255
		green = 255
		blue = 255
	}
}

pixelStateCollections {
	auctionFound = [
		{
			type = ExactPixelMatch
			x = 166
			y = 407
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 166
			y = 567
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 933
			y = 447
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 520
			y = 507
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 653
			y = 240
			rgb = ${colors.white}
		}
	]
	auctionReady = [
		{
			type = ExactPixelMatch
			x = 1486
			y = 525
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 1559
			y = 525
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 1486
			y = 558
			rgb = ${colors.white}
		}
		{
			type = ExactPixelMatch
			x = 1559
			y = 558
			rgb = ${colors.white}
		}
	]
	menuInteractiveCheck = [
		{
			type = RangedPixelMatch
			x = 11
			y = 34
			rgb {
				from = ${colors.menuInteractiveRangeStart}
				to = ${colors.menuInteractiveRangeEnd}
			}
		}
		{
			type = RangedPixelMatch
			x = 11
			y = 46
			rgb {
				from = ${colors.menuInteractiveRangeStart}
				to = ${colors.menuInteractiveRangeEnd}
			}
		}
		{
			type = RangedPixelMatch
			x = 30
			y = 41
			rgb {
				from = ${colors.menuInteractiveRangeStart}
				to = ${colors.menuInteractiveRangeEnd}
			}
		}
		{
			type = RangedPixelMatch
			x = 36
			y = 37
			rgb {
				from = ${colors.menuInteractiveRangeStart}
				to = ${colors.menuInteractiveRangeEnd}
			}
		}
	]
}

actions {
	waitForMenuInteractive {
		type = waitForPixelState
		pixelStateCollection = ${pixelStateCollections.menuInteractiveCheck}
	}

	auctionFarming {
		verifyMainMenu = [
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			${actions.waitForMenuInteractive}
			{
				type = wait
				duration = 200
			}
			{
				type = changeToAction
				action = waitForAuctionFilter
			}
		]
		waitForAuctionFilter = [
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 1015
			}
			{
				type = probeScreen
				pixelStateCollection = ${pixelStateCollections.auctionFound}
				actionIfMatch = waitForAuctionReady
				actionElse = noAuctionFound
			}
		]
		waitForAuctionReady = [
			{
				type = waitForPixelState
				pixelStateCollection = ${pixelStateCollections.auctionReady}
			}
			{
				type = tapKey
				keyEvent = VK_Y
				duration = 30
			}
			{
				type = wait
				duration = 250
			}
			{
				type = tapKey
				keyEvent = VK_DOWN
				duration = 30
			}
			{
				type = wait
				duration = 10
			}
			{
				type = repeat
				count = 12
				actions = [
					{
						type = tapKey
						keyEvent = VK_ENTER
						duration = 15
					}
					{
						type = wait
						duration = 15
					}
				]
			}
			{
				type = changeToAction
				action = rollback
			}
		]
		noAuctionFound = [
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 30
			}
			${actions.waitForMenuInteractive}
			{
				type = wait
				duration = 200
			}
			{
				type = changeToAction
				action = verifyMainMenu
			}
		]
		rollback = [
			{
				type = wait
				duration = 5000
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 30
			}
			{
				type = wait
				duration = 2000
			}
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 30
			}
			{
				type = wait
				duration = 2000
			}
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 30
			}
			{
				type = wait
				duration = 5000
			}
			{
				type = changeToAction
				action = verifyMainMenu
			}
		]
	}

	porscheFarming {
		purchaseCar = [
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 2000
			}
			{
				type = tapKey
				keyEvent = VK_Y
				duration = 15
			}
			{
				type = wait
				duration = 350
			}
			{
				type = repeat
				count = 7
				actions = [
					{
						type = tapKey
						keyEvent = VK_DOWN
						duration = 15
					}
					{
						type = wait
						duration = 30
					}
				]
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 100
			}
			{
				type = repeat
				count = 5
				actions = [
					{
						type = tapKey
						keyEvent = VK_DOWN
						duration = 15
					}
					{
						type = wait
						duration = 30
					}
				]
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 100
			}
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 15
			}
			{
				type = wait
				duration = 350
			}
			{
				type = tapKey
				keyEvent = VK_RIGHT
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duraion = 15
			}
			{
				type = wait
				duration = 3500
			}
			{
				type = tapKey
				keyEvent = VK_Y
				duration = 15
			}
			{
				type = wait
				duration = 660
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = repeat
				count = 2
				actions = [
					{
						type = wait
						duration = 345
					}
					{
						type = tapKey
						keyEvent = VK_ENTER
						duration = 15
					}
				]
			}
			{
				type = wait
				duration = 14500
			}
			{
				type = changeToAction
				action = purchaseComplete
			}
		]
		purchaseComplete = [
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 15
			}
			{
				type = wait
				duration = 1300
			}
			{
				type = tapKey
				keyEvent = VK_PAGE_DOWN
				duration = 15
			}
			{
				type = wait
				duration = 500
			}
			{
				type = tapKey
				keyEvent = VK_RIGHT
				duration = 15
			}
			{
				type = wait
				duration = 50
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 1100
			}
			{
				type = tapKey
				keyEvent = VK_DOWN
				duration = 15
			}
			{
				type = wait
				duration = 50
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 800
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_RIGHT
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_UP
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_UP
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_UP
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_LEFT
				duration = 15
			}
			{
				type = wait
				duration = 15
			}
			${actions.porscheFarming.perkSelectAndConfirm}
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 15
			}
			{
				type = wait
				duration = 800
			}
			{
				type = tapKey
				keyEvent = VK_ESCAPE
				duration = 15
			}
			{
				type = wait
				duration = 1000
			}
			{
				type = tapKey
				keyEvent = VK_PAGE_UP
				duration = 15
			}
			{
				type = wait
				duration = 500
			}
			{
				type = changeToAction
				action = purchaseCar
			}
		]
		perkSelectAndConfirm = [
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 250
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 3750
			}
		]
		sellCars = [
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 315
			}
			{
				type = repeat
				count = 4
				actions = [
					{
						type = tapKey
						keyEvent = VK_DOWN
						duration = 15
					}
					{
						type = wait
						duration = 30
					}
				]
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 400
			}
			{
				type = tapKey
				keyEvent = VK_ENTER
				duration = 15
			}
			{
				type = wait
				duration = 1000
			}
		]
	}
}